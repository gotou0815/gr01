# gr01
## 概要
画像からYOASOBIっぽいメロディを生成するプログラム。

画像処理にはOpenCV
音声処理にはmido
ディープラーニングにはTensorFlowのKeras
を用いる。
画像を一次元ベクトルに変換し、
kerasを用いて作成したモデルに読み込んでメロディを生成、
メロディをMIDIファイルに保存する。

## 使い方
main.pyなど各種ファイルはsrcディレクトリに入らず、
gr01ディレクトリから実行すること。

## データセット
説明変数（入力する画像データ）にはYOASOBIのMVのスクリーンショットを使用した。
１曲につき１０枚のスクリーンショットを取得し、
９種類の画像処理を用いて１曲につき１００枚の画像を生成した。
目的変数（出力となるMIDIデータ）にはYOASOBIの楽曲を耳コピしたものを使用した。
説明変数と対応した曲のMIDIを１曲につき１０個作成した。

説明変数と目的変数の対応は、
１枚のスクリーンショットを画像処理で１０枚にかさまししているため、
その１０枚の画像をMIDI１つを対応させた。

## 各コードの説明
src/main.py
最終的なゴールとなるコード
実行すると入力する画像を求められ、画像を入力するとYOASOBIっぽいメロディのMIDIが出力される

src/model.py
モデルを作成、保存するコード

src/mnist.py
Kerasの学習のため、手書き数字認識を練習したコード
実行するとmnistのモデルを作成、保存し、正解率を出力する

src/mnist-predict.py
predict等の練習をするために作成したコード
実行するとテストデータの一つ目の数字を画像として保存し、
mnist.pyで作成したモデルを使って、その数字を予想する

src/opencv.py
image/raw/ディレクトリ内にある.pngファイルをすべて160x90の画像に変換し、
image/pro/ディレクトリ内に保存するコード
opencvの練習、及びデータセットの作成に使用した

src/image2data.py
image/pro/ディレクトリ内の.pngファイルをすべて
一次元化＆０～１で正規化されたnumpy配列に変換し、
npy/ディレクトリに.npyファイルとして保存するコード
モデルはここで作られた.npyファイルをロードして学習を行う

model/
作成したモデルが入っている

image/
データセットとして使用した画像データが入っている